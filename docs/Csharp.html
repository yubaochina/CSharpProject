<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-12-22 Fri 14:23 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title></title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgbe47ea0">1. Grammer</a>
<ul>
<li><a href="#org55aa3b6">1.1. Class</a></li>
<li><a href="#orge454c00">1.2. Object</a></li>
<li><a href="#orgc776305">1.3. Inherit</a></li>
<li><a href="#orgcf77c78">1.4. 隐藏方法</a></li>
<li><a href="#orgf626f57">1.5. Virtual Method and Polymorphism</a></li>
<li><a href="#org6c35cfe">1.6. constructor</a></li>
<li><a href="#org53e6e92">1.7. Abstract method and abstract class</a></li>
<li><a href="#orgc521026">1.8. 密闭类和密闭方法</a></li>
<li><a href="#org923f0af">1.9. Interface</a></li>
<li><a href="#org3740235">1.10. Static</a></li>
<li><a href="#orgbf63c1f">1.11. introduction</a></li>
<li><a href="#org580a397">1.12. 静态构造函数</a></li>
<li><a href="#orgdf85e1b">1.13. 静态类</a></li>
<li><a href="#org2151bf9">1.14. 扩展方法</a></li>
<li><a href="#org28f5769">1.15. 装箱和拆箱</a></li>
<li><a href="#org17881b9">1.16. 装箱</a></li>
<li><a href="#org3ff33f2">1.17. 拆箱</a></li>
<li><a href="#orgb1949ee">1.18. 自定义转换</a></li>
<li><a href="#org4ab1039">1.19. 隐式转换的语法</a></li>
<li><a href="#org51522b5">1.20. 显式转换</a></li>
<li><a href="#org24a53ef">1.21. 重载运算符</a></li>
<li><a href="#orgdfcb24c">1.22. 泛型</a></li>
<li><a href="#org8289bbd">1.23. Why we need generic?</a></li>
<li><a href="#orged154d2">1.24. 泛型接口</a></li>
<li><a href="#org45691a2">1.25. Collection</a></li>
<li><a href="#org7b77fb3">1.26. Common Collections</a>
<ul>
<li><a href="#org54f83ad">1.26.1. ArrayList</a></li>
</ul>
</li>
<li><a href="#org02cbd3f">1.27. List</a></li>
<li><a href="#org213f369">1.28. Dictionary</a></li>
<li><a href="#org464ab6d">1.29. Queue</a></li>
<li><a href="#orge9cca21">1.30. Stack</a></li>
<li><a href="#orge58baf3">1.31. Constrain</a></li>
<li><a href="#orgb567b58">1.32. 约束叠加规则</a></li>
<li><a href="#orgfbc9830">1.33. Delagate</a></li>
<li><a href="#org4f92fc2">1.34. What is it?</a></li>
<li><a href="#org4f555a0">1.35. How to declare it?</a></li>
<li><a href="#org4f3b498">1.36. 定义委托类型的对象</a></li>
<li><a href="#org57ea65c">1.37. 给委托对象赋值</a></li>
<li><a href="#org314adee">1.38. How to use delagate type</a></li>
<li><a href="#org7be5ce7">1.39. Lambda Expression</a></li>
<li><a href="#org0a30283">1.40. What is anonymous delegate method</a></li>
<li><a href="#orga2d495d">1.41. What is Lambda expression</a></li>
<li><a href="#org13410ca">1.42. Event</a></li>
<li><a href="#org45b513c">1.43. What is event?</a></li>
<li><a href="#orgfd4521d">1.44. How to declare event</a></li>
<li><a href="#org9e7d065">1.45. 事件订阅</a></li>
<li><a href="#org175af82">1.46. 事件触发</a></li>
<li><a href="#orgd27cb2c">1.47. Sample Code - Pet Shop</a></li>
</ul>
</li>
<li><a href="#orgd5f4df2">2. WPF</a>
<ul>
<li><a href="#orgfd28849">2.1. Obtaining Device Notification for USB Device Arrival and Surprise Removal for C# WPF</a></li>
<li><a href="#org9b17787">2.2. String and StringBuilder</a></li>
</ul>
</li>
<li><a href="#orge8a317e">3. Tips</a>
<ul>
<li><a href="#org14d2138">3.1. DataType Conversion Between C/C++ and C#/Unity</a></li>
</ul>
</li>
<li><a href="#org0c18637">4. Reference</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgbe47ea0" class="outline-2">
<h2 id="orgbe47ea0"><span class="section-number-2">1</span> Grammer</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-org55aa3b6" class="outline-3">
<h3 id="org55aa3b6"><span class="section-number-3">1.1</span> Class</h3>
</div>
<div id="outline-container-orge454c00" class="outline-3">
<h3 id="orge454c00"><span class="section-number-3">1.2</span> Object</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Object类是所有类的共同基类，它是唯一的非派生类，是继承层次结构的基础。
</p>
</div>
</div>
<div id="outline-container-orgc776305" class="outline-3">
<h3 id="orgc776305"><span class="section-number-3">1.3</span> Inherit</h3>
<div class="outline-text-3" id="text-1-3">
<p>
C#中只能是单继承
</p>
</div>
</div>
<div id="outline-container-orgcf77c78" class="outline-3">
<h3 id="orgcf77c78"><span class="section-number-3">1.4</span> 隐藏方法</h3>
<div class="outline-text-3" id="text-1-4">
<p>
定义同名的成员来隐藏基类的成员
</p>
<ul class="org-ul">
<li>屏蔽数据成员： 在派生类中声明名称和类型相同的成员</li>
<li>屏蔽函数成员： 在派生类中声明新的带有相同函数签名的成员</li>
<li>让编译器知道： 可以添加new关键字，否则会有警告</li>
</ul>
</div>
</div>

<div id="outline-container-orgf626f57" class="outline-3">
<h3 id="orgf626f57"><span class="section-number-3">1.5</span> Virtual Method and Polymorphism</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>一个设计原则</li>
</ul>
<p>
面象对象编程中，都遵循一个原则: 依赖倒置原则. 换句话说程序设计要依赖于抽象(Pet)类，而不依赖于具体类（Dog）。
</p>

<p>
基类的引用可以指向派生类
</p>

<p>
虚方法：声明virtual的方法就是虚方法。基类的虚方法可以在派生类中使用override进行重写。
</p>

<ul class="org-ul">
<li>重写虚方法必须具有相同的可访问性，且基类方法不能是private</li>
<li>不能重写static方法或非虚方法</li>
<li>方法，属性，索引器，事件，都可以声明为virtual or override</li>
</ul>

<p>
Polymorphism:
通过指向派生类的基类引用，调用虚函数，会根据引用所指向派生类的实际类型，调用派生类中的同名重写函数。
</p>
</div>
</div>

<div id="outline-container-org6c35cfe" class="outline-3">
<h3 id="org6c35cfe"><span class="section-number-3">1.6</span> constructor</h3>
<div class="outline-text-3" id="text-1-6">
<p>
派生类对象中，有一部分是基类部分，在执行派行类的构造函数体之前，将会隐式或显示调用基类构造函数。
</p>
</div>
</div>

<div id="outline-container-org53e6e92" class="outline-3">
<h3 id="org53e6e92"><span class="section-number-3">1.7</span> Abstract method and abstract class</h3>
<div class="outline-text-3" id="text-1-7">
<div class="org-src-container">
<pre class="src src-csharp">abstract public void Func();
</pre>
</div>

<ul class="org-ul">
<li>抽象类的存在只有一个目的，就是被继承。</li>
<li>抽象类不能实例化，用abstract修饰</li>
<li>抽象类可以包含抽象成员的普通成员，以用他们的任意组合。</li>
<li>抽象类的抽象成员在派生类中需要用override关键字实现。</li>
</ul>
</div>
</div>
<div id="outline-container-orgc521026" class="outline-3">
<h3 id="orgc521026"><span class="section-number-3">1.8</span> 密闭类和密闭方法</h3>
<div class="outline-text-3" id="text-1-8">
<p>
密闭类：声明为sealed的类。有些类不希望其他人通过继承来修改。
</p>

<p>
密闭方法：声明为sealed的方法。不希望其他人重写该方法。
</p>
</div>
</div>
<div id="outline-container-org923f0af" class="outline-3">
<h3 id="org923f0af"><span class="section-number-3">1.9</span> Interface</h3>
<div class="outline-text-3" id="text-1-9">
<ul class="org-ul">
<li>接口就是指定一组函数成员，而不实现他们的引用类型。</li>
<li>接口也是一种引用类型</li>
<li>可以实现多个接口. 注意： <b>基类写在最前面</b></li>
</ul>
<div class="org-src-container">
<pre class="src src-csharp">interface ICatchMice
{
    void CatchMice(); //default is "bublic", however, you cannot add any access modifier
}

Cat: Pet, ICatchMice, IClimbTree
{
    public void CatchMice(){

    }
}

Cat c=new Cat();
ICatchMice ic=(ICatchMice)c;
c.CatchMice();
ic.CatchMice();
</pre>
</div>
</div>
</div>
<div id="outline-container-org3740235" class="outline-3">
<h3 id="org3740235"><span class="section-number-3">1.10</span> Static</h3>
</div>
<div id="outline-container-orgbf63c1f" class="outline-3">
<h3 id="orgbf63c1f"><span class="section-number-3">1.11</span> introduction</h3>
<div class="outline-text-3" id="text-1-11">
<ul class="org-ul">
<li>静态方法只能访问静态成员</li>
<li>普通静态方法可以加访问修饰，静态构造函数不能加访问修饰</li>
</ul>
</div>
</div>

<div id="outline-container-org580a397" class="outline-3">
<h3 id="org580a397"><span class="section-number-3">1.12</span> 静态构造函数</h3>
<div class="outline-text-3" id="text-1-12">
<ul class="org-ul">
<li>静态构造函数用于初始化静态字段</li>
<li>在引用任何静态成员之前，和创建任何实例之前调用</li>
<li>与类同名，使用static，无参数，无访问修饰符</li>
</ul>
</div>
</div>
<div id="outline-container-orgdf85e1b" class="outline-3">
<h3 id="orgdf85e1b"><span class="section-number-3">1.13</span> 静态类</h3>
<div class="outline-text-3" id="text-1-13">
<ul class="org-ul">
<li>静态类不能创建实例</li>
<li>如果类只包含了静态的方法和属性，并且标识为static</li>
<li>静态类不能创建实例，不能被继承</li>
<li>可以为静态类定义一个静态构造函数</li>
<li>主要用于基类库（如数学库）和扩展方法，</li>
</ul>
</div>
</div>
<div id="outline-container-org2151bf9" class="outline-3">
<h3 id="org2151bf9"><span class="section-number-3">1.14</span> 扩展方法</h3>
<div class="outline-text-3" id="text-1-14">
<div class="org-src-container">
<pre class="src src-csharp">static class PetGuide{
    public static double HowToFeed(this Dog dog){...} 
}

Dog dog=new Dog();
dog.HowToFeed();
</pre>
</div>
<ul class="org-ul">
<li>扩展方法所属的类，必须是static类</li>
<li>扩展方法本身必须是static方法</li>
<li>扩展方法的第一个参数类型，必须是this + 类名</li>
</ul>
</div>
</div>
<div id="outline-container-org28f5769" class="outline-3">
<h3 id="org28f5769"><span class="section-number-3">1.15</span> 装箱和拆箱</h3>
</div>
<div id="outline-container-org17881b9" class="outline-3">
<h3 id="org17881b9"><span class="section-number-3">1.16</span> 装箱</h3>
<div class="outline-text-3" id="text-1-16">
<p>
将值类型转化为引用类型，
 <a href="images/cs_org/boxing.jpg">boxing</a>: <img src="./images/cs_org/boxing.jpg" alt="boxing.jpg" />
</p>


<p>
根据值类型的值，在堆上创建一个完整的引用类型对象，并返回对象的引用，是一种隐式转换。
</p>
<div class="org-src-container">
<pre class="src src-csharp">int i=3;
object oi=null;
oi=i;
</pre>
</div>
<p>
oi创建了一个新的对象（在堆中），有性能的消耗 <br />
装箱的本质就是在堆上创建了引用类型的副本，新创建的引用类型的原来的值类型相互独立。
</p>
</div>
</div>

<div id="outline-container-org3ff33f2" class="outline-3">
<h3 id="org3ff33f2"><span class="section-number-3">1.17</span> 拆箱</h3>
<div class="outline-text-3" id="text-1-17">
<p>
将装箱后的对象转换为值类型的过程，是一种显式转换。
</p>
<div class="org-src-container">
<pre class="src src-csharp">int i=3;
object oi=i;
int j=(int)oi;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb1949ee" class="outline-3">
<h3 id="orgb1949ee"><span class="section-number-3">1.18</span> 自定义转换</h3>
<div class="outline-text-3" id="text-1-18">
<p>
为自己的结构或者类定义显式或隐式的转换
</p>
</div>
</div>
<div id="outline-container-org4ab1039" class="outline-3">
<h3 id="org4ab1039"><span class="section-number-3">1.19</span> 隐式转换的语法</h3>
<div class="outline-text-3" id="text-1-19">
<div class="org-src-container">
<pre class="src src-csharp">public static implicit operator Dog( Cat cat)
{
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org51522b5" class="outline-3">
<h3 id="org51522b5"><span class="section-number-3">1.20</span> 显式转换</h3>
<div class="outline-text-3" id="text-1-20">
<div class="org-src-container">
<pre class="src src-csharp">public static explicit operator Dog(Cat cat)
{
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org24a53ef" class="outline-3">
<h3 id="org24a53ef"><span class="section-number-3">1.21</span> 重载运算符</h3>
<div class="outline-text-3" id="text-1-21">
<p>
利用现有的某种运算符，针对自定义类或者结构，定义某种运算操作。<br />
简化自定义操作
</p>
<div class="org-src-container">
<pre class="src src-csharp">public static Dog operator +(Dog male, Dog female)
{
    return new Dog();
}
</pre>
</div>
<p>
不能重载的运算符： =， &amp;&amp; ，||, (), [] &#x2026;
</p>
</div>
</div>
<div id="outline-container-orgdfcb24c" class="outline-3">
<h3 id="orgdfcb24c"><span class="section-number-3">1.22</span> 泛型</h3>
<div class="outline-text-3" id="text-1-22">
<div class="org-src-container">
<pre class="src src-csharp">class Cage&lt;T&gt; {
    T[] petsArray;
    public void Putln(T pet){...}
    public T TakeOut(int index){...}
}

var dogCage=new Cage&lt;Dog&gt;();
var cavyCage=new Cage&lt;Cavy&gt;();
</pre>
</div>
</div>
</div>
<div id="outline-container-org8289bbd" class="outline-3">
<h3 id="org8289bbd"><span class="section-number-3">1.23</span> Why we need generic?</h3>
<div class="outline-text-3" id="text-1-23">
<p>
用基类或者公共的接口，甚至是所有类的基类object,也可以实现一个Cage类，但是类型太宽泛，需要显示转换类型，并且判断真实类型是什么。
</p>
</div>
</div>
<div id="outline-container-orged154d2" class="outline-3">
<h3 id="orged154d2"><span class="section-number-3">1.24</span> 泛型接口</h3>
<div class="outline-text-3" id="text-1-24">
<p>
泛型接口允许我们将接口成员的参数和返回类型设置为泛型参数的接口。
</p>
<div class="org-src-container">
<pre class="src src-csharp">interface IMyself&lt;T&gt;{
    T Myself(T self);
}
class A :IMyself&lt;A&gt;{
    public A Myself(A self);
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org45691a2" class="outline-3">
<h3 id="org45691a2"><span class="section-number-3">1.25</span> Collection</h3>
</div>
<div id="outline-container-org7b77fb3" class="outline-3">
<h3 id="org7b77fb3"><span class="section-number-3">1.26</span> Common Collections</h3>
<div class="outline-text-3" id="text-1-26">
</div><div id="outline-container-org54f83ad" class="outline-4">
<h4 id="org54f83ad"><span class="section-number-4">1.26.1</span> ArrayList</h4>
<div class="outline-text-4" id="text-1-26-1">
<ul class="org-ul">
<li>动态ArrayList可以不指定大小</li>
<li>使用Cont属性获取长度</li>
<li>添加，用add</li>
<li>remoe, removeAt</li>
<li>[index]</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org02cbd3f" class="outline-3">
<h3 id="org02cbd3f"><span class="section-number-3">1.27</span> List</h3>
<div class="outline-text-3" id="text-1-27">
<div class="org-src-container">
<pre class="src src-csharp">Console.WriteLine("\n==========list==============\n");
List&lt;Dog&gt; list = new List&lt;Dog&gt;();
list.Add(new Dog("a"));
list.Add(new PetShop.Dog("b"));
list.Add(new PetShop.Dog("c"));
list.RemoveAt(2);
for (int i = 0; i &lt; list.Count; ++i)
{
  list[i].PrintName();
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org213f369" class="outline-3">
<h3 id="org213f369"><span class="section-number-3">1.28</span> Dictionary</h3>
<div class="outline-text-3" id="text-1-28">
<div class="org-src-container">
<pre class="src src-csharp">Console.WriteLine("\n==========Dictionary==============\n");
Dictionary&lt;string, Cat&gt; dic = new Dictionary&lt;string, Cat&gt;();
dic.Add("A", new Cat("A"));
dic.Add("B", new Cat("B"));
dic["A"].PrintName();
</pre>
</div>
</div>
</div>
<div id="outline-container-org464ab6d" class="outline-3">
<h3 id="org464ab6d"><span class="section-number-3">1.29</span> Queue</h3>
<div class="outline-text-3" id="text-1-29">
<div class="org-src-container">
<pre class="src src-csharp">Queue&lt;Pet&gt; queue = new Queue&lt;Pet&gt;();
queue.Enqueue(new Dog("C"));
queue.Enqueue(new Dog("D"));
queue.Enqueue(new Dog("E"));
Pet p = null;
p = queue.Dequeue();
p.PrintName();
p = queue.Dequeue();
p.PrintName();
p = queue.Dequeue();
p.PrintName();

</pre>
</div>
</div>
</div>
<div id="outline-container-orge9cca21" class="outline-3">
<h3 id="orge9cca21"><span class="section-number-3">1.30</span> Stack</h3>
<div class="outline-text-3" id="text-1-30">
<div class="org-src-container">
<pre class="src src-csharp">Console.WriteLine("\n==========Stack==============\n");
Stack&lt;Pet&gt; stack = new Stack&lt;Pet&gt;();
stack.Push(new Dog("A"));
stack.Push(new Cat("B"));
stack.Peek().PrintName();
stack.Pop();
stack.Peek().PrintName();
</pre>
</div>
</div>
</div>
<div id="outline-container-orge58baf3" class="outline-3">
<h3 id="orge58baf3"><span class="section-number-3">1.31</span> Constrain</h3>
</div>
<div id="outline-container-orgb567b58" class="outline-3">
<h3 id="orgb567b58"><span class="section-number-3">1.32</span> 约束叠加规则</h3>
<div class="outline-text-3" id="text-1-32">
<p>
A.主约束 B.接口约束 C. 构造约束
</p>
<div class="org-src-container">
<pre class="src src-csharp">void Cage&lt;T&gt;
    where T: Pet, IClimbTree, new ()
        {
        }
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfbc9830" class="outline-3">
<h3 id="orgfbc9830"><span class="section-number-3">1.33</span> Delagate</h3>
</div>
<div id="outline-container-org4f92fc2" class="outline-3">
<h3 id="org4f92fc2"><span class="section-number-3">1.34</span> What is it?</h3>
<div class="outline-text-3" id="text-1-34">
<p>
委托就是持有一个或多个方法的对象，并且该对象可以执行，可以传递。
</p>

<p>
委托可以持有一系列具有相同签名的函数
</p>
</div>
</div>
<div id="outline-container-org4f555a0" class="outline-3">
<h3 id="org4f555a0"><span class="section-number-3">1.35</span> How to declare it?</h3>
<div class="outline-text-3" id="text-1-35">
<p>
委托可以持有方法，那么持有什么样的方法呢？
可以声明，它是一种引用类型
</p>
<div class="org-src-container">
<pre class="src src-cpp">delegate void ActCute();
</pre>
</div>
</div>
</div>
<div id="outline-container-org4f3b498" class="outline-3">
<h3 id="org4f3b498"><span class="section-number-3">1.36</span> 定义委托类型的对象</h3>
<div class="outline-text-3" id="text-1-36">
<p>
既然是种类型，就可以定义该类型的对象
</p>
<div class="org-src-container">
<pre class="src src-cpp">Actcute actCute;
</pre>
</div>
</div>
</div>
<div id="outline-container-org57ea65c" class="outline-3">
<h3 id="org57ea65c"><span class="section-number-3">1.37</span> 给委托对象赋值</h3>
<div class="outline-text-3" id="text-1-37">
<div class="org-src-container">
<pre class="src src-cpp">class Dog{
public void WagTail(){
}
}
class Cat{
public void WagTail(){
}
}

Dog dog=new Dog();
Cat cat=new Dog();
actCute=dog.WagTail;
actCute+=cat.WagTail;

</pre>
</div>
</div>
</div>
<div id="outline-container-org314adee" class="outline-3">
<h3 id="org314adee"><span class="section-number-3">1.38</span> How to use delagate type</h3>
<div class="outline-text-3" id="text-1-38">
<div class="org-src-container">
<pre class="src src-cpp">actCute();
</pre>
</div>
</div>
</div>
<div id="outline-container-org7be5ce7" class="outline-3">
<h3 id="org7be5ce7"><span class="section-number-3">1.39</span> Lambda Expression</h3>
</div>
<div id="outline-container-org0a30283" class="outline-3">
<h3 id="org0a30283"><span class="section-number-3">1.40</span> What is anonymous delegate method</h3>
<div class="outline-text-3" id="text-1-40">
<div class="org-src-container">
<pre class="src src-cpp">delagate void ActCute();
ActCute del;
del=delegate(){....}(C# 2.0)
</pre>
</div>
</div>
</div>
<div id="outline-container-orga2d495d" class="outline-3">
<h3 id="orga2d495d"><span class="section-number-3">1.41</span> What is Lambda expression</h3>
<div class="outline-text-3" id="text-1-41">
<p>
Occured from C# 3.0
</p>
<div class="org-src-container">
<pre class="src src-cpp">del=delagate(){}

del=()=&gt;{}

actCute+=()=&gt;{
Console.WreteLine("Do nothing");
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org13410ca" class="outline-3">
<h3 id="org13410ca"><span class="section-number-3">1.42</span> Event</h3>
</div>
<div id="outline-container-org45b513c" class="outline-3">
<h3 id="org45b513c"><span class="section-number-3">1.43</span> What is event?</h3>
<div class="outline-text-3" id="text-1-43">
<p>
事件可以理解成是一种封装的受限制的委托
</p>

<ul class="org-ul">
<li>发布者：通知某件事情发生的</li>
<li>订阅者：对某件事情关注的</li>
</ul>

<p>
事件触发与注册
</p>

<ul class="org-ul">
<li>事件发生时，会通知所有关注该事件的订阅者。</li>
</ul>
<p>
就是调用订阅者的注册函数。
</p>
<ul class="org-ul">
<li>想在事件发生时被通知，必须注册以表示关注。</li>
</ul>
<p>
注册，就是告诉发布者调用哪一个注册函数
</p>
</div>
</div>
<div id="outline-container-orgfd4521d" class="outline-3">
<h3 id="orgfd4521d"><span class="section-number-3">1.44</span> How to declare event</h3>
<div class="outline-text-3" id="text-1-44">
<div class="org-src-container">
<pre class="src src-csharp">delegate void Handler();
public [static] event Handler NewDog;
public event [delagate_type] [Event_name]
</pre>
</div>
</div>
</div>
<div id="outline-container-org9e7d065" class="outline-3">
<h3 id="org9e7d065"><span class="section-number-3">1.45</span> 事件订阅</h3>
<div class="outline-text-3" id="text-1-45">
<div class="org-src-container">
<pre class="src src-csharp">NewDog += method
NewDog -= method
</pre>
</div>
<p>
method: 实例方法，静态方法，匿名方法
</p>
</div>
</div>
<div id="outline-container-org175af82" class="outline-3">
<h3 id="org175af82"><span class="section-number-3">1.46</span> 事件触发</h3>
<div class="outline-text-3" id="text-1-46">
<p>
如果有定阅者就触发事件
</p>
</div>
</div>

<div id="outline-container-orgd27cb2c" class="outline-3">
<h3 id="orgd27cb2c"><span class="section-number-3">1.47</span> Sample Code - Pet Shop</h3>
<div class="outline-text-3" id="text-1-47">
<div class="org-src-container">
<pre class="src src-csharp">using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace PetShop
{
  struct fish
  {
    int weight;
    int size;
    int type;
  }

  interface ICatchMice
  {
    void CatchMice();
  }

  interface IClimbTree
  {
    void ClimbTree();
  }

  public interface IDogLearn&lt;CMD&gt;where CMD:DogCmd
  {
    void Action(CMD cmd);
  }

  abstract public class Pet
  {
    protected string _name;
    protected int _age;

    public Pet(string name)
    {
      this._name = name;
      this._age = 0;
    }
    public void PrintName()
    {
      Console.WriteLine("[Pet Class] Pet's name is " + this._name);
    }
    public void ShowAge()
    {
      Console.WriteLine("name: " + _name + "Age=" + _age);
    }
    public static Pet operator ++(Pet pet)
    {
      ++pet._age;
      return pet;
    }
    abstract public void Speak();

  }

  static class PetGuide
  {
    static public void HowToFeedDog(this Dog dog)
    {
      Console.WriteLine("Play a vedio about how to feed a dog");
    }
  }

  public class Dog : Pet
  {
    static int Num;
    public delegate void Handler();
    public static event Handler NewDog;
    static Dog()  //static constructor
    {
      Num = 0;
    }
    public Dog(string name) :base(name)
    {
      ++Num;
      if (NewDog != null)
      {
        NewDog();
      }
    }
    new public void PrintName()
    {
      Console.WriteLine("[Dog Class] Pet's name is " + _name);
    }
    public void IsHappy&lt;T&gt;(T target) where T:Pet
    {
      Console.WriteLine(" Happy to see " + target.ToString());
      target.PrintName();
    }
    sealed override public void Speak()
    {
      Console.WriteLine(_name + " :Dog is speaking");
    }
    static public void ShowNum()
    {
      Console.WriteLine("Dog's number:" + Num);
    }
    public static implicit operator Cat(Dog dog)
    {
      Console.WriteLine("Magic: change a dog to a cat");
      return new Cat(dog._name);
    }
    ~Dog()
    {
      Num--;
    }
  }

  public class Labrador: Dog,IDogLearn&lt;SitDogCmd&gt;,IDogLearn&lt;SpeakDogCmd&gt;
  {
    public Labrador(string name)
      :base(name)
    { }
    public void Action(SitDogCmd cmd)
    {
      Console.WriteLine(cmd.GetCmd());
    }
    public void Action(SpeakDogCmd cmd)
    {
      Console.WriteLine(cmd.GetCmd());
    }
  }

  public class Cat : Pet, ICatchMice, IClimbTree
  {
    static int Num;
    public delegate void Handler();
    public static event Handler NewCat;
    static Cat()
    {
      Num = 0;
    }
    public Cat(string name):base(name)
    {
      ++Num;
      if (NewCat != null)
      {
        NewCat();
      }
    }
    new public void PrintName()
    {
      Console.WriteLine("[Cat Class] Pet's name is " + _name);
    }

    sealed override public void Speak()
    {
      Console.WriteLine(_name + " :Cat is speaking");
    }

    public void CatchMice()
    {
      Console.WriteLine("Catch Mice");
    }

    public void ClimbTree()
    {
      Console.WriteLine("Climb Tree");
    }
    public static explicit operator Dog(Cat cat)
    {
      Console.WriteLine("Magic: cat to dog");
      return new Dog(cat._name);
    }

  }//endCatClass

  public class Cage&lt;T&gt;
  {
    T[] array;
    readonly int Size;
    int num;
    public Cage(int num_Size)
    {
      Size = num_Size;
      num = 0;
      array = new T[Size];
    }
    public void Putin(T pet)
    {
      if(num&lt;Size)
      {
        array[num++] = pet;
      }
      else
      {
        Console.WriteLine("Cage is full");
      }
    }
    public T TakeOut()
    {
      if(num&gt;0)
      {
        return array[--num];
      }
      else
      {
        Console.WriteLine("Cage is empty");
        return default(T);
      }
    }
  } //endOfClassCage  
  class Client
  {
    public void WantADog()
    {
      Console.WriteLine("[Client class] Great, I want to see the new dog");
    }
  }//EndOfClient
  public abstract class DogCmd
  {
    public abstract string GetCmd();
  }//EndOfDogCmd
  public class SitDogCmd:DogCmd
  {
    public override string GetCmd()
    {
      return "sit";
    }

  }//EndOfSitDogCmd
  public class SpeakDogCmd:DogCmd
  {
    public override string GetCmd()
    {
      return "Speak";
    }
  }

  class Person
  {

  }

  class Program
  {
    static void Main(string[] args)
    {
      Dog dog1 = new Dog("Jack");
      dog1.PrintName();
      dog1.Speak();

      Pet dog2 = new Dog("Mimi");
      dog2.PrintName();
      dog2.Speak();

      Pet cat = new Cat("Tom");
      cat.PrintName();
      cat.Speak();

      //implicit operator
      Console.WriteLine("\n==========Implicit Operator==============\n");
      Cat dog2cat = dog1;
      dog2cat.Speak();
      dog2cat.PrintName();

      Console.WriteLine("\n==========Explicit Operator==============\n");
      Cat magicCat = new Cat("magicCat");
      magicCat.Speak();
      magicCat.PrintName();

      Dog cat2dog = (Dog)magicCat;
      cat2dog.Speak();
      cat2dog.PrintName();

      //interface
      Console.WriteLine("\n==========Interface==============\n");
      IClimbTree climb = (IClimbTree)cat;
      climb.ClimbTree();
      ICatchMice catchMice = (ICatchMice)cat;
      catchMice.CatchMice();

      //virtual/abstract and override
      Console.WriteLine("\n==========abstract and content==============\n");
      Pet[] pets = new Pet[]{
                new Dog("Jhone"),
                new Cat("Jami")
            };
      for (int i = 0; i &lt; pets.Length; ++i)
      {
        pets[i].Speak();
      }


      //event
      Console.WriteLine("\n==========event==============\n");
      Client c1 = new Client();
      Client c2 = new Client();

      Dog.NewDog += c1.WantADog;
      Dog.NewDog += c2.WantADog;

      //static constructor
      Console.WriteLine("\n==========static==============\n");
      Dog dog = new Dog("Q");
      Dog.ShowNum();

      //static class
      Dog dogTommy = new Dog("Tommy");
      dog.HowToFeedDog();


      //boxing and unboxing
      Console.WriteLine("\n==========Iboxing and unboxing==============\n");
      {
        int i = 3;
        object oi = i;
        Console.WriteLine("i=" + i + "\n"+"oi=" + oi.ToString());
        oi = 10;
        i= 7;
        Console.WriteLine("i=" + i + "\n" + "oi=" + oi.ToString());

        int j = (int)oi;
        Console.WriteLine("j=" + j);
      }

      //operator overload
      Console.WriteLine("\n==========operator overload==============\n");
      {
        Pet[] pets_test_operator = new Pet[]
        {
          new Dog("d01"),new Cat("c01"),new Dog("d02"), new Cat("c03"), new Dog("d03")
        };
        for(int i=0;i&lt;pets_test_operator.Length;++i)
        {
          pets_test_operator[i]++;
          pets_test_operator[i].ShowAge();
        }
      }

      //generic
      Console.WriteLine("\n==========generic and constraint==============\n");
      var dogCage = new Cage&lt;Dog&gt;(1);
      dogCage.Putin(new Dog("A"));
      dogCage.Putin(new Dog("B"));

      var C = dogCage.TakeOut();
      C.PrintName();

      var catCage = new Cage&lt;Cat&gt;(2);
      catCage.Putin(new Cat("A"));
      var D = catCage.TakeOut();
      D.PrintName();

      var dogHappy = new Dog("dogHappy");
     // dogHappy.IsHappy&lt;Person&gt;(new Person());//wrong
      //dogHappy.IsHappy&lt;int&gt;(2); //wrong
      dogHappy.IsHappy&lt;Cat&gt;(new PetShop.Cat("Tom"));

      //generic interface
      Labrador labradorDog = new Labrador("labradorDog");
      labradorDog.Action(new SitDogCmd());
      labradorDog.Action(new SpeakDogCmd());

      //List
      Console.WriteLine("\n==========list==============\n");
      List&lt;Dog&gt; list = new List&lt;Dog&gt;();
      list.Add(new Dog("a"));
      list.Add(new PetShop.Dog("b"));
      list.Add(new PetShop.Dog("c"));
      list.RemoveAt(2);
      for (int i = 0; i &lt; list.Count; ++i)
      {
        list[i].PrintName();
      }

      //Dictionary
      Console.WriteLine("\n==========Dictionary==============\n");
      Dictionary&lt;string, Cat&gt; dic = new Dictionary&lt;string, Cat&gt;();
      dic.Add("A", new Cat("A"));
      dic.Add("B", new Cat("B"));
      dic["A"].PrintName();

      //Stack
      Console.WriteLine("\n==========Stack==============\n");
      Stack&lt;Pet&gt; stack = new Stack&lt;Pet&gt;();
      stack.Push(new Dog("A"));
      stack.Push(new Cat("B"));
      stack.Peek().PrintName();
      stack.Pop();
      stack.Peek().PrintName();

      //Queue
      Console.WriteLine("\n==========Queue==============\n");
      Queue&lt;Pet&gt; queue = new Queue&lt;Pet&gt;();
      queue.Enqueue(new Dog("C"));
      queue.Enqueue(new Dog("D"));
      queue.Enqueue(new Dog("E"));
      Pet p = null;
      p = queue.Dequeue();
      p.PrintName();
      p = queue.Dequeue();
      p.PrintName();
      p = queue.Dequeue();
      p.PrintName();



    }//EndOfMain
  }//EndOfProgram
}

</pre>
</div>
<p>
Result:
</p>
<div class="org-src-container">
<pre class="src src-shell">[Dog Class] Pet's name is Jack
Jack :Dog is speaking
[Pet Class] Pet's name is Mimi
Mimi :Dog is speaking
[Pet Class] Pet's name is Tom
Tom :Cat is speaking

==========Implicit Operator==============

Magic: change a dog to a cat
Jack :Cat is speaking
[Cat Class] Pet's name is Jack

==========Explicit Operator==============

magicCat :Cat is speaking
[Cat Class] Pet's name is magicCat
Magic: cat to dog
magicCat :Dog is speaking
[Dog Class] Pet's name is magicCat

==========Interface==============

Climb Tree
Catch Mice

==========abstract and content==============

Jhone :Dog is speaking
Jami :Cat is speaking

==========event==============


==========static==============

[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
Dog's number:5
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
Play a vedio about how to feed a dog

==========Iboxing and unboxing==============

i=3
oi=3
i=7
oi=10
j=10

==========operator overload==============

[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
name: d01Age=1
name: c01Age=1
name: d02Age=1
name: c03Age=1
name: d03Age=1

==========generic and constraint==============

[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
Cage is full
[Dog Class] Pet's name is A
[Cat Class] Pet's name is A
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
 Happy to see PetShop.Cat
[Pet Class] Pet's name is Tom
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
sit
Speak

==========list==============

[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Dog Class] Pet's name is a
[Dog Class] Pet's name is b

==========Dictionary==============

[Cat Class] Pet's name is A

==========Stack==============

[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Pet Class] Pet's name is B
[Pet Class] Pet's name is A

==========Queue==============

[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Client class] Great, I want to see the new dog
[Pet Class] Pet's name is C
[Pet Class] Pet's name is D
[Pet Class] Pet's name is E
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd5f4df2" class="outline-2">
<h2 id="orgd5f4df2"><span class="section-number-2">2</span> WPF</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-orgfd28849" class="outline-3">
<h3 id="orgfd28849"><span class="section-number-3">2.1</span> Obtaining Device Notification for USB Device Arrival and Surprise Removal for C# WPF</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Refer to: <a href="https://www.silabs.com/community/interface/knowledge-base.entry.html/2013/11/21/obtaining_devicenot-0ULM">https://www.silabs.com/community/interface/knowledge-base.entry.html/2013/11/21/obtaining_devicenot-0ULM</a>
</p>
</div>
</div>
<div id="outline-container-org9b17787" class="outline-3">
<h3 id="org9b17787"><span class="section-number-3">2.2</span> String and StringBuilder</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Example of StringBuilder:
</p>
<div class="org-src-container">
<pre class="src src-cpp">__declspec(dllexport) type __cdecl bool cppLibFunc(char* cppLibString, int len)
{
  char string1[60] = "The quick brown dog jumps over the lazy fox";
  _memccpy(val, string1 , 0, len);
  return true;
}
</pre>
</div>
<div class="org-src-container">
<pre class="src src-csharp">using System;
using System.Runtime.InteropServices;
using System.Text;
public static class dllWrapper
{
    [DllImport("cppSDKLib", CharSet = CharSet.Ansi, CallingConvention = CallingConvention.Cdecl, EntryPoint = "cpplibfunc")]
    public static extern bool  cppLibFunc(StringBuilder cppLibString, int len); //please don't add [out/ref] keyword before Stringbuilder

    private StringBuilder  mStringBuilder=new StringBuilder(20);
    cppLibFunc(mStringBuilder,20); //here mStringBuilder.Length==0, so cannot pass "mStringBuilder.Length" as parameter
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge8a317e" class="outline-2">
<h2 id="orge8a317e"><span class="section-number-2">3</span> Tips</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-org14d2138" class="outline-3">
<h3 id="org14d2138"><span class="section-number-3">3.1</span> DataType Conversion Between C/C++ and C#/Unity</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Refer to : <a href="https://msdn.microsoft.com/en-us/library/0wf2yk2k.aspx">https://msdn.microsoft.com/en-us/library/0wf2yk2k.aspx</a>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">C++ Type</th>
<th scope="col" class="org-left">C# Type</th>
<th scope="col" class="org-left">Size</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">BOOL</td>
<td class="org-left">bool</td>
<td class="org-left">1 byte</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">BYTE</td>
<td class="org-left">byte</td>
<td class="org-left">1 byte</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">CHAR</td>
<td class="org-left">byte</td>
<td class="org-left">1 byte</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">DECIMAL</td>
<td class="org-left">Decimal</td>
<td class="org-left">16 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">DOUBLE</td>
<td class="org-left">double</td>
<td class="org-left">8 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">DWORD</td>
<td class="org-left">uint, UInt32</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">FLOAT</td>
<td class="org-left">float, single</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">INT, signed int</td>
<td class="org-left">int, Int32</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">INT16, signed short int</td>
<td class="org-left">short, Int16</td>
<td class="org-left">2 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">INT32, signed int</td>
<td class="org-left">int, Int32</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">INT64</td>
<td class="org-left">long, Int64</td>
<td class="org-left">8 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">LONG</td>
<td class="org-left">int, Int32</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">LONG32, signed int</td>
<td class="org-left">int, Int32</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">LONG64</td>
<td class="org-left">long, Int64</td>
<td class="org-left">8 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">LONGLONG</td>
<td class="org-left">long, Int64</td>
<td class="org-left">8 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">SHORT, signed short int</td>
<td class="org-left">short, Int16</td>
<td class="org-left">2 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">UCHAR, unsigned char</td>
<td class="org-left">byte</td>
<td class="org-left">1 byte</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">UINT, unsigned int</td>
<td class="org-left">uint, UInt32</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">UINT16, WORD</td>
<td class="org-left">ushort, UInt16</td>
<td class="org-left">2 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">UINT32, unsigned int</td>
<td class="org-left">uint, UInt32</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">UINT64</td>
<td class="org-left">ulong, UInt64</td>
<td class="org-left">8 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">ULONG, unsigned long</td>
<td class="org-left">uint, UInt32</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">ULONG32</td>
<td class="org-left">uint, UInt32</td>
<td class="org-left">4 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">ULONG64</td>
<td class="org-left">ulong, UInt64</td>
<td class="org-left">8 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">ULONGLONG</td>
<td class="org-left">ulong, UInt64</td>
<td class="org-left">8 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">WORD</td>
<td class="org-left">ushort</td>
<td class="org-left">2 bytes</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">void*, pointers</td>
<td class="org-left">IntPtr</td>
<td class="org-left">x86=4 bytes, x64=8 bytes</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>






<div id="outline-container-org0c18637" class="outline-2">
<h2 id="org0c18637"><span class="section-number-2">4</span> Reference</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>[[<a href="http://www.imooc.com/video/14244%5D%5Bimoc_C#_video">http://www.imooc.com/video/14244][imoc_C#_video</a></li>
</ul>
<p>
]]
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2017-12-22 Fri 14:23</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
